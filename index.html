<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basic HTML Template</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }

        .hidden-container {
            display: none;
        }

        .main-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .container {
            width: 400px;
            padding: 20px;
            margin: 0 10px;
            height: 547px;
            border-radius: 37px 0px 0px 37px;
        }
        .container:first-child {
            background-color: #ffd300;
        }

        .container:nth-child(2) {
            width: 600px;
            background-color: #fff;
            display: flex;
            position: relative;
            justify-content: center;
            flex-wrap: wrap;
            border: none;
        }

        .avatar-container{
            display: flex;
            position: relative;
            justify-content: center;
            margin-top: 5px;
        }

        .arrow-container{
            display: flex;
            position: relative;
            justify-content: center;
            transform: translateX(-1%) translateY(346%);
        }

        
        .arrow {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color:  #373d40;
            color: #fff;
            border: none;
            cursor: pointer;
            outline: none;
        }
        .form-container {
            width: 560px;
            padding: 20px;
            display: flex;
            position: relative;
            justify-content: center;
            border-radius: 5px;
        }
        .form-field {
            display : flex;
            align-items: center;
            margin-bottom: 10px;
        }
        .label-container {
            width: 100px;
            margin-right: 176px;
        }
        .input-container {
            flex: 1;
        }
        .info-container {
            background-color: #ff9200;
            width: 485px;
            height: 586px;
            translate: -20% -3.4%;
            border-radius: 0px 37px 37px 0px;
        }
        .info-heading {
            color: #373d40;
            translate: 25% 36%;
        }
        .info-details {
            width: 436px;
            margin: 5%;
            translate: 1% 33%;
        }
        .form-container form {
            display: grid;
            grid-gap: 10px;
        }

        .form-container input[type="text"],
        .form-container input[type="email"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
            outline: none;
        }

        .form-container input[type="submit"] {
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 5px;
            background-color: #007bff;
            color: #fff;
            cursor: pointer;
        }

        .form-container input[type="submit"]:hover {
            background-color: #0056b3;
        }

        .form-footer{
            display: flex;
            position: relative;
            align-items: center;
            justify-content: center;
            gap: 5%;
            transform: scale(1.5);
        }
        .cancel-form {
            background-color: #f5f8f9;
            border: none;
        }
        .submit-form {
            background-color: #49c8a8;
            border: none;
        }
        .membership-container {
            display: flex;
            position: relative;
            align-items: center;
            justify-content: flex-end;
            gap: 28px;
        }

        .membership-option {
            flex-basis: 30%;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
        }

        .membership-option input[type="radio"] {
            margin-right: 5px;
        }
        .svg-card {
            width: 20px; 
            height: 20px;
            background-size: contain; 
            background-repeat: no-repeat; 
        }
      

        .circle {
            width: 44px;
            height: 42px;
            background-color: #373d40b2;
            border-radius: 50%;
            position: absolute;
            top: -10px;
            left: -9px;
            display: none;
            z-index: 5;
            opacity: 0.5;
        }
            .active {
                display: block;
                z-index: 5;
            }
            .inactive {
                display: block;
            }

        .genderOptionsContainer {
            display: flex;
            position: relative;
            align-items: flex-end;
            justify-content: flex-end;
            flex-wrap: wrap;
            align-content: space-around;
        }
        .svg-mars {
            width: 20px; 
            height: 20px;
            background-size: contain; 
            background-repeat: no-repeat;
        }

        .rotate {
          transform: rotate(180deg);
        }
    </style>
</head>
<body>
    <div class="main-container">
        <div class="container">
            <div class="avatar-container">
                <img src="assets/face.svg">
            </div>
            <div class="arrow-container">
                <div>
                    <button id="arrow" class="arrow"><span><img src="assets/arrow.svg"></span></button>
                </div>
            </div>
        </div>

        
        <div class="container">
            <div id="groupedFormContainers">
                <div class="form-container">
                    <form id="formFields">
                    </form>
                </div>
                <div class="form-container">
                    <div class="membership-container" id="membershipType">
                        <h6>Membership</h1>
                    </div>
                </div>
                <div class="form-container">
                    <div id="formFooter" class="form-footer"></div>
                </div>
            </div>
            </div>
            
        <script>


// Data Sources
    const formFields = [
    { label: 'Name', type: 'text', id: 'name', placeholder:"Name", required: true },
    { label: 'Gender', type: 'radio', id: 'gender', required: true, options: [
        { value: 'male', label: 'Male' },
        { value: 'female', label: 'Female' }
    ] },                
    { label: 'Date of Birth', type: 'text', id: 'dob', placeholer:"Birth", required: true },
    { label: 'Email', type: 'text', id: 'email', placeholer:"Email@email.com", required: true },
    { label: 'Mobile', type: 'text', id: 'mobile', placeholer:"888-777-666", required: true },
    { label: 'Customer Id', type: 'text', id: 'customerId', placeholer:"83493-EFG-0001", required: true },
    { label: 'Membership', type: 'text', id: 'membership', required: true },
];

const formFooter = [
    { label: 'Cancel', type: 'button', id: 'cancel', required: false },
    { label: 'Save', type:'submit', id:'submit', required: false }
];

const membershipType = [
    { label: 'Classic', type: 'radio', id: 'classic', required: true, },
    { label: 'Silver', type: 'radio', id: 'silver', required: true },
    { label: 'Gold', type: 'radio', id: 'gold', required: true }
]

const infoContextText = 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.';


// Global Variables
let formDisplay = true;
const svgIconCard = '../assets/card.svg';
const svgWhite = '../assets/card--white.svg';
const activeColor = '#373d40';
const inactiveColor = '#f5f8f9';
const iconLabel = 'an image of a card';
const arrowButton = document.getElementById('arrow');
const cancelFormButton = document.getElementById('cancel');
const formContainer = document.getElementById('formFields');
let circle; 


function toggleForm(formDisplay) {
    let nthContainer = document.querySelector('.main-container > .container:nth-child(2)');
    const formContainerDisplay = document.getElementById('groupedFormContainers');
    const infoContainer = document.querySelector('.info-container');

    if (!formDisplay) {
        formContainerDisplay.classList.add('hidden-container');
        addInfoContainer(nthContainer);
    } else {
        formContainerDisplay.classList.remove('hidden-container');
        if (infoContainer) {
            infoContainer.remove();
        }
    }
}
function addInfoContainer (nthContainer){
    console.log(nthContainer);

    const infoContainer = document.createElement('div');
    infoContainer.classList.add('info-container');

    const heading = document.createElement('h1');
    heading.textContent = 'My World Today';
    heading.classList.add('info-heading');
    infoContainer.appendChild(heading);

    const infoDetails = document.createElement('div');
    infoDetails.classList.add('info-details');
    infoContainer.appendChild(infoDetails);

    const infoContext = document.createElement('p');
    infoContext.textContent = infoContextText;
    infoDetails.appendChild(infoContext);

    nthContainer.appendChild(infoContainer);
}
formFields.forEach(field => {
    const formFieldDiv = document.createElement('div');
    formFieldDiv.classList.add('form-field');

    const labelDiv = document.createElement('div');
    labelDiv.classList.add('label-container');
    const label = document.createElement('label');
    label.setAttribute('for', field.id);
    label.textContent = field.label;
    labelDiv.appendChild(label);

    const inputDiv = document.createElement('div');
    inputDiv.classList.add('input-container');
    const input = document.createElement('input');
    input.setAttribute('type', field.type);
    input.setAttribute('id', field.id);
    input.setAttribute('name', field.name);
    input.setAttribute('placeholder',field.placeholder);
    if (field.required) {
        input.setAttribute('required', 'required');
    }
    inputDiv.appendChild(input);

    if(field.id === 'gender'){
        input.style.display = 'none';
        createGenderIconContainer();
    }

    if(field.id === 'membership'){
        input.style.display = 'none';
        label.style.display = 'none';
        createNewContainer();
    }

    formFieldDiv.appendChild(labelDiv);
    formFieldDiv.appendChild(inputDiv);
    formContainer.appendChild(formFieldDiv);
});

const formFooterButtons = document.getElementById('formFooter');

formFooter.forEach(button => {
    const formFooterButton = document.createElement('button');
    formFooterButton.setAttribute('type', button.type);
    formFooterButton.setAttribute('id', button.id);
    formFooterButton.textContent = button.label;
    formFooterButtons.appendChild(formFooterButton);

    if(button.id === 'cancel'){
        formFooterButton.classList.add('cancel-form');
    } else if (button.id === 'submit') {
        formFooterButton.classList.add('submit-form');
    }
});

function createGenderIconContainer() {
    const genderIcons = ['../assets/mars-symbol.svg', '../assets/venus-symbol.svg'];

    const genderOptionsContainer = document.createElement('div');
    genderOptionsContainer.classList.add('genderOptionsContainer');  

    formFields.find(field => field.id === 'gender').options.forEach(option => {
        const genderIconContainer = document.createElement('div');
        genderIconContainer.classList.add('gender-icon-container');

        const iconImg = document.createElement('img');
        iconImg.setAttribute('src', genderIcons[option.value === 'male' ? 0 : 1]);
        iconImg.setAttribute('alt', 'Gender Icon');
        iconImg.classList.add('svg-mars');
        if (option.value === 'male') {
            iconImg.classList.add('active');
        }

        const circle = document.createElement('div');
        circle.classList.add('circle');
        if (option.value === 'male') {
            circle.classList.add('active');
            circle.style.backgroundColor = inactiveColor
        }
        genderIconContainer.appendChild(circle);

        genderIconContainer.appendChild(iconImg);

        const genderLabel = document.createElement('label');
        genderLabel.classList.add('membership-option');
        genderLabel.textContent = option.label;

        genderIconContainer.appendChild(genderLabel);

        genderOptionsContainer.appendChild(genderIconContainer);
    });

    formContainer.appendChild(genderOptionsContainer);
}

function createNewContainer() {
    const membershipTypes = document.getElementById('membershipType');

    membershipType.forEach(membership => {
        const membershipOptionDiv = document.createElement('div');
        membershipOptionDiv.classList.add('membership-container');

        circle = document.createElement('div');
        circle.classList.add('circle');
        membershipOptionDiv.appendChild(circle);

        const iconSvg = document.createElement('img');
        iconSvg.setAttribute('src', svgIconCard);
        iconSvg.setAttribute('alt', iconLabel);

        if (membership.id === 'classic') {
            iconSvg.setAttribute('src', svgWhite);
            iconSvg.classList.add('active');
            circle.classList.add('active');
        } else if (membership.id !== 'classic'){
            circle.classList.add('active');
            circle.style.backgroundColor = inactiveColor;
        }

        const membershipLabelDiv = document.createElement('label');
        membershipLabelDiv.setAttribute('name', membership.name); 
        membershipLabelDiv.classList.add('membership-option');

        const input = document.createElement('input');
        input.setAttribute('type', membership.type);
        input.setAttribute('id', membership.id);
        input.setAttribute('name', 'membership');
        input.setAttribute('value', membership.label);
        input.setAttribute('required', 'required');
        input.style.display = 'none';

        const label = document.createElement('label');
        label.setAttribute('for', membership.id);
        label.textContent = membership.label;

        membershipOptionDiv.appendChild(iconSvg);
        membershipOptionDiv.appendChild(label);
        membershipOptionDiv.appendChild(input);

        membershipTypes.appendChild(membershipOptionDiv);
    });
}

let removedFormContainer = document.getElementById('groupedFormContainers');

arrowButton.addEventListener('click', function() {
    const img = arrowButton.querySelector('img');
    img.classList.toggle('rotate');
    formDisplay = !formDisplay;
    toggleForm(formDisplay);
});

cancelFormButton.addEventListener('click', function() {
    // Your cancel form function
});


</script>
</body>
</html>
